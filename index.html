<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–ì—Ä–∞—Ñ–∏–∫ —Å–º–µ–Ω</title>
  <meta name="viewport" content="width=1200, initial-scale=1.0, user-scalable=yes" />
  <link rel="stylesheet" href="css/styles.css" />
</head>
<body>
  <div id="app">
    <!-- –≠–∫—Ä–∞–Ω –ª–æ–≥–∏–Ω–∞ -->
    <div id="login-screen" class="card">
      <h1>–ì—Ä–∞—Ñ–∏–∫ —Å–º–µ–Ω</h1>
      <p class="muted">–í—Ö–æ–¥ –ø–æ –ª–æ–≥–∏–Ω—É –∏ –ø–∞—Ä–æ–ª—é (—á–µ—Ä–µ–∑ n8n <code>/graph</code>).</p>

      <form id="login-form">
        <div class="field">
          <span>–õ–æ–≥–∏–Ω</span>
          <input id="login-input" autocomplete="username" />
        </div>

        <div class="field">
          <span>–ü–∞—Ä–æ–ª—å</span>
          <input
            id="password-input"
            type="password"
            autocomplete="current-password"
          />
        </div>

        <button type="submit" class="btn primary full-width" id="login-button">
          –í–æ–π—Ç–∏
        </button>
        <div id="login-error" class="error"></div>
      </form>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π —ç–∫—Ä–∞–Ω -->
    <div id="main-screen" class="hidden">
      <div class="top-bar">
        <div>
          <h2>–ì—Ä–∞—Ñ–∏–∫ —Å–º–µ–Ω</h2>
          <div id="current-user-label" class="muted"></div>
        </div>

        <div class="top-bar-right">
          <button type="button" class="btn toggle" id="btn-theme-toggle">
            üåô –¢–µ–º–∞
          </button>
          <button type="button" class="btn toggle" id="btn-logout" title="–°–±—Ä–æ—Å–∏—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é">
            üö™ –í—ã–π—Ç–∏
          </button>
          <div id="line-tabs" class="line-tabs"></div>

          <div class="month-switcher">
            <button type="button" class="btn toggle" id="btn-prev-month">
              &#8249;
            </button>
            <span id="current-month-label">–ú–µ—Å—è—Ü</span>
            <button type="button" class="btn toggle" id="btn-next-month">
              &#8250;
            </button>
          </div>
        </div>
      </div>

      <div class="schedule-container">
        <button type="button" class="btn toggle mobile-only" id="btn-mobile-toolbar">‚öôÔ∏è –ü–∞–Ω–µ–ª—å —Å–º–µ–Ω—ã</button>
        <div class="schedule-toolbar">
          <div class="toolbar-group">
            <label for="quick-template-select">–®–∞–±–ª–æ–Ω —Å–º–µ–Ω—ã</label>
            <select id="quick-template-select"></select>
          </div>

          <div class="toolbar-group">
            <label>–í—Ä–µ–º—è</label>
            <div class="toolbar-inline">
              <input id="quick-time-from" type="time" />
              <span class="toolbar-separator">‚Äî</span>
              <input id="quick-time-to" type="time" />
            </div>
          </div>

          <div class="toolbar-group">
            <label for="quick-amount">–°—É–º–º–∞</label>
            <input id="quick-amount" type="number" min="0" step="100" />
          </div>

          <div class="toolbar-actions">
            <button type="button" class="btn toggle mobile-only" id="btn-mobile-toolbar-close">‚¨áÔ∏è –°–∫—Ä—ã—Ç—å</button>
            <button type="button" class="btn toggle" id="quick-mode-toggle">
              –ë—ã—Å—Ç—Ä–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ
            </button>
            <button type="button" class="btn primary ghost" id="btn-save-pyrus">
              –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ Pyrus
            </button>
          </div>
        </div>
        
        <div class="schedule-scroll">
          <div id="schedule-root"></div>
        </div>

        <!-- –õ–µ–≥–µ–Ω–¥–∞ —Ü–≤–µ—Ç–æ–≤ —Å–º–µ–Ω (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è) -->
        <div class="shift-legend" id="shift-legend">
          <div class="shift-legend-title">–õ–µ–≥–µ–Ω–¥–∞ —Ü–≤–µ—Ç–æ–≤ —Å–º–µ–Ω</div>
          <div class="shift-legend-groups" id="shift-legend-content">
            <!-- –ë—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∏–∑ JavaScript -->
          </div>
        </div>

        <div style="padding: 8px 12px; font-size: 12px; color: var(--text-muted);">
          –†–µ–∂–∏–º: —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø—Ä–∞–≤–∞—Ö <b>edit</b> (—Å–µ–π—á–∞—Å
          —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ª–æ–∫–∞–ª—å–Ω—ã–π –∫—ç—à, –±–µ–∑ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Pyrus).
        </div>

        <div class="change-log-panel">
          <div class="change-log-header">
            <div>
              <div class="change-log-title">–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π</div>
              <div class="change-log-subtitle">
                –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ, —Ñ–∏–∫—Å–∏—Ä—É—è –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ, –ø—Ä–∞–≤–∫–∏ –∏ —É–¥–∞–ª–µ–Ω–∏–µ.
              </div>
            </div>
            <button type="button" class="btn toggle" id="btn-clear-history">
              –û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é
            </button>
          </div>
          <div id="change-log-list" class="change-log-list">
            –ü–æ–∫–∞ –Ω–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="js/shift-colors.js"></script>
  <script type="module" src="js/app.js"></script>
</body>
</html>
